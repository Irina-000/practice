#include <iostream>
#include <fstream>
#include <vector>
#include <sstream>
#include <cmath>

using namespace std;

int main() 
{

    ifstream inputFile ("C:\\Users\\User\\Desktop\\практика\\просто_тесты\\1.txt"); //чтение из файла
    // если не существует этого файла
    if (!inputFile) 
    {
        //вывод об ошибке
        cerr << "Error! Not exist!" << endl;
        return 1;
    }


    string test;
    getline(inputFile, test);   //перенос всего содержимого в одну строку
    inputFile.close();          //закрытие файла

    // Удаляем скобки
    // если первым символом явдяется скобка
    if (test.front() == '[') 
    {
        test.erase(0, 1);
    }
    // если последним символом явдяется скобка
    if (test.back() == ']') 
    {
        test.pop_back();
    }

    vector<double> numbers;     // вектор чисел
    stringstream str(test);     // переменная для перевода строки в набор чисел
    string number;

    while (getline(str, number, ','))       // вычленение чисел из строки, разделённых запятой
    {                               
        // добавление нового числа в конец вектора чисел
        numbers.push_back(stod(number));       
    }

    int len = numbers.size();
    int i;
    cout << len << endl;
    cout << "Считанные числа:" << endl;
    for (i = 0; i < len; i++) 
    {
        cout << numbers[i] << endl;
    }

    return 0;
}
